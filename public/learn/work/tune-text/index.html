<!DOCTYPE html>
<html>
<head>
<!DOCTYPE html>
<html lang="en-us">



<link rel="stylesheet" href="/css/fonts.css">
<link rel="stylesheet" href="/css/main-site.css">
<link rel="stylesheet" href="/css/fa5-all.css">
<style type="text/css">
    body {
	background-color: #ffffff;
	color: #404040
}

/* Links */

a {
  color: #CA225E;
}

a:hover {
  color: #cc3168;
}

/* Landing page content bands */

#homeContent .band.first {
  background-color: #ffffff
}

#homeContent .band.second {
  background-color: #fcfcfc
}

#homeContent .band.third {
  background-color: #ffffff
}

/* Top navigation bar menu */

#rStudioHeader {
  background-color: #ffffff;
  color: black;
}

#rStudioHeader .productName {
  color: #CA225E
}

#rStudioHeader .productName:hover {
  color: #00000075
}

#rStudioHeader #menu .menuItem.a {
  background-color: #75aadb;
  color: black;
}

#rStudioHeader #menu .menuItem:hover {
  background-color: white;
  color: #CA225E;
}

#rStudioHeader #menu .menuItem.current {
  background-color: #fcfcfc;
  color: #CA225E;
  text-decoration: none;
}

/* Footer */

#rStudioFooter.band {
  background-color: #CA225E40;
}

#rStudioFooter .bandContent #copyright {
  color: #CA225E;
}

/* Tables */

table tbody tr:nth-child(even){
  background-color: #fcfcfc;
}

table tbody tr:nth-child(odd){
  background-color: #1a162d10;
}

.latest {
  border-top: .5em solid <no value>;
}
</style>

  <link rel="stylesheet" href="/css/tm.css">




<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="apple-mobile-web-app-capable" content="yes" />

<meta name="og:image" content="https://www.tidymodels.org/images/feature_summary_large_image.jpg" >

  <meta property="twitter:card" content="summary_large_image">

<meta name="twitter:image" content="https://www.tidymodels.org/images/feature_summary_large_image.jpg" ><meta name="generator" content="Hugo 0.96.0" />

<meta property="og:type" content="website"><title>Learn - Tuning text models</title>
    <meta property="og:title" content="Learn - Tuning text models">
    
    
    
    
    <meta property="description" content="Prepare text data for predictive modeling and tune with both grid and iterative search.
">
    <meta property="og:description" content="Prepare text data for predictive modeling and tune with both grid and iterative search.
">



<link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicons/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicons/favicon-16x16.png" />
<link rel="manifest" href="/images/favicons/site.webmanifest" />
<link rel="mask-icon" href="/images/favicons/safari-pinned-tab.svg" />
<link rel="shortcut icon" href="/images/favicons/favicon.ico" />
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" href="/images/favicons/browserconfig.xml" >



<script type="text/javascript" src="/js/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="/js/site.js"></script>


  <script type="text/javascript" src="/js/tm.js"></script>


<link rel="icon" href="/images/favicon.ico" />


<script defer data-domain="tidymodels.org,all.tidymodels.org" src="https://plausible.io/js/plausible.js"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>



  <body>
    <div id="appTidyverseSite" class="shrinkHeader alwaysShrinkHeader">
      <div id="main">
        
        <div id="rStudioHeader">
          <div class="band">
            <div class="innards bandContent">
              <div>
                <a class="productName" href="/">Tidymodels</a>
                
              </div>
              <div id="menu">
  <div id="menuToggler"></div>
  <div id="menuItems" class="">
    
    
      
      
      
    <a class="menuItem " href="/packages/">Packages</a>
    
      
      
      
    <a class="menuItem " href="/start/">Get Started</a>
    
      
      
      
    <a class="menuItem current" href="/learn/">Learn</a>
    
      
      
      
    <a class="menuItem " href="/help/">Help</a>
    
      
      
      
    <a class="menuItem " href="/contribute/">Contribute</a>
    
      
      
      
    <a class="menuItem " href="/find/"><i class="fas fa-search fa-lg"></i> </a>
    
      
      
      
    <a class="menuItem " href="https://github.com/tidymodels/"><i class="fab fa-github fa-lg"></i></a>
    
  </div>
</div>

            </div>
          </div>
        </div>
</head>
<body>


 




<div class="band padForHeader pushFooter">
  <div class="bandContent">
    <div class="full splitColumns withMobileMargins">
      <div class="column75">
        
        <div class="section">
          <div class="sectionTitle">
            <a href="/learn/">
              <i class="fas fa-chevron-left"></i>&nbsp;Back to Learn
            </a>
          </div>
        </div>

      <h1 class="article-title">Tuning text models</h1>

      
      <div class="article-header">
        </div>
        

      
      
      
      
        </p>
      
        
      <div class="learning-objective-container">
        <h2 class="learning-objective">Learning objective</h2>
        <p class="single-learning-objective-text">Prepare text data for predictive modeling and tune with both grid and iterative search.</p>
      </div>
      

      <div class="article-content">
      <h2 id="introduction">Introduction</h2>
<p>To use the code in this article, you will need to install the following packages: stopwords, textfeatures, textrecipes, and tidymodels.</p>
<p>This article demonstrates an advanced example for training and tuning models for text data. Text data must be processed and transformed to a numeric representation to be ready for computation in modeling; in tidymodels, we use a recipe for this preprocessing. This article also shows how to extract information from each model fit during tuning to use later on.</p>
<h2 id="text-as-data">Text as data</h2>
<p>The text data we&rsquo;ll use in this article are from Amazon:</p>
<blockquote>
<p>This dataset consists of reviews of fine foods from amazon. The data span a period of more than 10 years, including all ~500,000 reviews up to October 2012. Reviews include product and user information, ratings, and a plaintext review.</p>
</blockquote>
<p>This article uses a small subset of the total reviews <a href="https://snap.stanford.edu/data/web-FineFoods.html">available at the original source</a>. We sampled a single review from 5,000 random products and allocated 80% of these data to the training set, with the remaining 1,000 reviews held out for the test set.</p>
<p>There is a column for the product, a column for the text of the review, and a factor column for the outcome variable. The outcome is whether the reviewer gave the product a five-star rating or not.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#00f">library</span>(tidymodels)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00f">data</span>(<span style="color:#ba2121">&#34;small_fine_foods&#34;</span>)
</span></span><span style="display:flex;"><span>training_data
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 4,000 x 3</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    product    review                                                       score</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    &lt;chr&gt;      &lt;chr&gt;                                                        &lt;fct&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  1 B000J0LSBG &#34;this stuff is  not stuffing  its  not good at all  save yo… other</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  2 B000EYLDYE &#34;I absolutely LOVE this dried fruit.  LOVE IT.  Whenever I … great</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  3 B0026LIO9A &#34;GREAT DEAL, CONVENIENT TOO.  Much cheaper than WalMart and… great</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  4 B00473P8SK &#34;Great flavor, we go through a ton of this sauce! I discove… great</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  5 B001SAWTNM &#34;This is excellent salsa/hot sauce, but you can get it for … great</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  6 B000FAG90U &#34;Again, this is the best dogfood out there.  One suggestion… great</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  7 B006BXTCEK &#34;The box I received was filled with teas, hot chocolates, a… other</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  8 B002GWH5OY &#34;This is delicious coffee which compares favorably with muc… great</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  9 B003R0MFYY &#34;Don&#39;t let these little tiny cans fool you.  They pack a lo… great</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 10 B001EO5ZXI &#34;One of the nicest, smoothest cup of chai I&#39;ve made. Nice m… great</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # … with 3,990 more rows</span>
</span></span></code></pre></div><p>Our modeling goal is to create modeling features from the text of the reviews to predict whether the review was five-star or not.</p>
<h2 id="inputs-for-the-search">Inputs for the search</h2>
<p>Text, perhaps more so than tabular data we often deal with, must be heavily processed to be used as predictor data for modeling. There are multiple ways to process and prepare text for modeling; let&rsquo;s add several steps together to create different kinds of features:</p>
<ul>
<li>
<p>Create an initial set of count-based features, such as the number of words, spaces, lower- or uppercase characters, URLs, and so on; we can use the <a href="https://github.com/mkearney/textfeatures">textfeatures</a> package for this.</p>
</li>
<li>
<p><a href="https://smltar.com/tokenization.html">Tokenize</a> the text (i.e. break the text into smaller components such as words).</p>
</li>
<li>
<p>Remove stop words such as &ldquo;the&rdquo;, &ldquo;an&rdquo;, &ldquo;of&rdquo;, etc.</p>
</li>
<li>
<p><a href="https://smltar.com/stemming.html">Stem</a> tokens to a common root where possible.</p>
</li>
<li>
<p>Convert tokens to dummy variables via a <a href="https://bookdown.org/max/FES/encoding-predictors-with-many-categories.html">signed, binary hash function</a>.</p>
</li>
<li>
<p>Optionally transform non-token features (the count-based features like number of lowercase characters) to a more symmetric state using a <a href="https://bookdown.org/max/FES/numeric-one-to-one.html">Yeo-Johnson transformation</a>.</p>
</li>
<li>
<p>Remove predictors with a single distinct value.</p>
</li>
<li>
<p>Center and scale all predictors.</p>
</li>
</ul>
<div class="note"><p>We will end up with two kinds of features:</p>
<ul>
<li>dummy/indicator variables for the count-based features like number of digits or punctuation characters</li>
<li>hash features for the tokens like &ldquo;salsa&rdquo; or &ldquo;delicious&rdquo;.</li>
</ul>
</div>
<p>Some of these preprocessing steps (such as stemming) may or may not be good ideas but a full discussion of their effects is beyond the scope of this article. In this preprocessing approach, the main tuning parameter is the number of hashing features to use.</p>
<p>Before we start building our preprocessing recipe, we need some helper objects. For example, for the Yeo-Johnson transformation, we need to know the set of count-based text features:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#00f">library</span>(textfeatures)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>basics <span style="color:#666">&lt;-</span> <span style="color:#00f">names</span>(textfeatures<span style="color:#666">:::</span>count_functions)
</span></span><span style="display:flex;"><span><span style="color:#00f">head</span>(basics)
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; [1] &#34;n_words&#34;    &#34;n_uq_words&#34; &#34;n_charS&#34;    &#34;n_uq_charS&#34; &#34;n_digits&#34;  </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; [6] &#34;n_hashtags&#34;</span>
</span></span></code></pre></div><p>Also, the implementation of feature hashes does not produce the binary values we need. This small function will help convert the scores to values of -1, 0, or 1:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>binary_hash <span style="color:#666">&lt;-</span> <span style="color:#00f">function</span>(x) {
</span></span><span style="display:flex;"><span>  x <span style="color:#666">&lt;-</span> <span style="color:#00f">ifelse</span>(x <span style="color:#666">&lt;</span> <span style="color:#666">0</span>, <span style="color:#666">-1</span>, x)
</span></span><span style="display:flex;"><span>  x <span style="color:#666">&lt;-</span> <span style="color:#00f">ifelse</span>(x <span style="color:#666">&gt;</span> <span style="color:#666">0</span>,  <span style="color:#666">1</span>, x)
</span></span><span style="display:flex;"><span>  x
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Now, let&rsquo;s put this all together in one recipe:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#00f">library</span>(textrecipes)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>pre_proc <span style="color:#666">&lt;-</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">recipe</span>(score <span style="color:#666">~</span> product <span style="color:#666">+</span> review, data <span style="color:#666">=</span> training_data) <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#408080;font-style:italic"># Do not use the product ID as a predictor</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">update_role</span>(product, new_role <span style="color:#666">=</span> <span style="color:#ba2121">&#34;id&#34;</span>) <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#408080;font-style:italic"># Make a copy of the raw text</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">step_mutate</span>(review_raw <span style="color:#666">=</span> review) <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#408080;font-style:italic"># Compute the initial features. This removes the `review_raw` column</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">step_textfeature</span>(review_raw) <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#408080;font-style:italic"># Make the feature names shorter</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">step_rename_at</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#00f">starts_with</span>(<span style="color:#ba2121">&#34;textfeature_&#34;</span>),
</span></span><span style="display:flex;"><span>    fn <span style="color:#666">=</span> <span style="color:#666">~</span> <span style="color:#00f">gsub</span>(<span style="color:#ba2121">&#34;textfeature_review_raw_&#34;</span>, <span style="color:#ba2121">&#34;&#34;</span>, .)
</span></span><span style="display:flex;"><span>  ) <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">step_tokenize</span>(review)  <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">step_stopwords</span>(review) <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">step_stem</span>(review) <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#408080;font-style:italic"># Here is where the tuning parameter is declared</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">step_texthash</span>(review, signed <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">TRUE</span>, num_terms <span style="color:#666">=</span> <span style="color:#00f">tune</span>()) <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#408080;font-style:italic"># Simplify these names</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">step_rename_at</span>(<span style="color:#00f">starts_with</span>(<span style="color:#ba2121">&#34;review_hash&#34;</span>), fn <span style="color:#666">=</span> <span style="color:#666">~</span> <span style="color:#00f">gsub</span>(<span style="color:#ba2121">&#34;review_&#34;</span>, <span style="color:#ba2121">&#34;&#34;</span>, .)) <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#408080;font-style:italic"># Convert the features from counts to values of -1, 0, or 1</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">step_mutate_at</span>(<span style="color:#00f">starts_with</span>(<span style="color:#ba2121">&#34;hash&#34;</span>), fn <span style="color:#666">=</span> binary_hash) <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#408080;font-style:italic"># Transform the initial feature set</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">step_YeoJohnson</span>(<span style="color:#00f">one_of</span>(<span style="color:#666">!!</span>basics)) <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">step_zv</span>(<span style="color:#00f">all_predictors</span>()) <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">step_normalize</span>(<span style="color:#00f">all_predictors</span>())
</span></span></code></pre></div><div class="warning">Note that, when objects from the global environment are used, they are injected into the step objects via <code>!!</code>. For some parallel processing technologies, these objects may not be found by the worker processes.</div>
<p>The preprocessing recipe is long and complex (often typical for working with text data) but the model we&rsquo;ll use is more straightforward. Let&rsquo;s stick with a regularized logistic regression model:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>lr_mod <span style="color:#666">&lt;-</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">logistic_reg</span>(penalty <span style="color:#666">=</span> <span style="color:#00f">tune</span>(), mixture <span style="color:#666">=</span> <span style="color:#00f">tune</span>()) <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">set_engine</span>(<span style="color:#ba2121">&#34;glmnet&#34;</span>)
</span></span></code></pre></div><p>There are three tuning parameters for this data analysis:</p>
<ul>
<li><code>num_terms</code>, the number of feature hash variables to create</li>
<li><code>penalty</code>, the amount of regularization for the model</li>
<li><code>mixture</code>, the proportion of L1 regularization</li>
</ul>
<h2 id="resampling">Resampling</h2>
<p>There are enough data here so that 10-fold resampling would hold out 400 reviews at a time to estimate performance. Performance estimates using this many observations have sufficiently low noise to measure and tune models.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#00f">set.seed</span>(<span style="color:#666">8935</span>)
</span></span><span style="display:flex;"><span>folds <span style="color:#666">&lt;-</span> <span style="color:#00f">vfold_cv</span>(training_data)
</span></span><span style="display:flex;"><span>folds
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; #  10-fold cross-validation </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 10 x 2</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    splits             id    </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    &lt;list&gt;             &lt;chr&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  1 &lt;split [3.6K/400]&gt; Fold01</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  2 &lt;split [3.6K/400]&gt; Fold02</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  3 &lt;split [3.6K/400]&gt; Fold03</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  4 &lt;split [3.6K/400]&gt; Fold04</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  5 &lt;split [3.6K/400]&gt; Fold05</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  6 &lt;split [3.6K/400]&gt; Fold06</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  7 &lt;split [3.6K/400]&gt; Fold07</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  8 &lt;split [3.6K/400]&gt; Fold08</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  9 &lt;split [3.6K/400]&gt; Fold09</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 10 &lt;split [3.6K/400]&gt; Fold10</span>
</span></span></code></pre></div><h2 id="grid-search">Grid search</h2>
<p>Let&rsquo;s begin our tuning with <a href="https://www.tidymodels.org/learn/work/tune-svm/">grid search</a> and a regular grid. For glmnet models, evaluating penalty values is fairly cheap because of the use of the <a href="https://tune.tidymodels.org/articles/extras/optimizations.html#sub-model-speed-ups-1">&ldquo;submodel-trick&rdquo;</a>. The grid will use 20 penalty values, 5 mixture values, and 3 values for the number of hash features.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>five_star_grid <span style="color:#666">&lt;-</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#00f">crossing</span>(
</span></span><span style="display:flex;"><span>    penalty <span style="color:#666">=</span> <span style="color:#666">10</span><span style="color:#00f">^seq</span>(<span style="color:#666">-3</span>, <span style="color:#666">0</span>, length <span style="color:#666">=</span> <span style="color:#666">20</span>),
</span></span><span style="display:flex;"><span>    mixture <span style="color:#666">=</span> <span style="color:#00f">c</span>(<span style="color:#666">0.01</span>, <span style="color:#666">0.25</span>, <span style="color:#666">0.50</span>, <span style="color:#666">0.75</span>, <span style="color:#666">1</span>),
</span></span><span style="display:flex;"><span>    num_terms <span style="color:#666">=</span> <span style="color:#666">2</span><span style="color:#00f">^c</span>(<span style="color:#666">8</span>, <span style="color:#666">10</span>, <span style="color:#666">12</span>)
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>five_star_grid
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 300 x 3</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    penalty mixture num_terms</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;      &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  1   0.001    0.01       256</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  2   0.001    0.01      1024</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  3   0.001    0.01      4096</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  4   0.001    0.25       256</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  5   0.001    0.25      1024</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  6   0.001    0.25      4096</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  7   0.001    0.5        256</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  8   0.001    0.5       1024</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  9   0.001    0.5       4096</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 10   0.001    0.75       256</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # … with 290 more rows</span>
</span></span></code></pre></div><p>Note that, for each resample, the (computationally expensive) text preprocessing recipe is only prepped 6 times. This increases the efficiency of the analysis by avoiding redundant work.</p>
<p>Let&rsquo;s save information on the number of predictors by penalty value for each glmnet model. This can help us understand how many features were used across the penalty values. Use an extraction function to do this:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>glmnet_vars <span style="color:#666">&lt;-</span> <span style="color:#00f">function</span>(x) {
</span></span><span style="display:flex;"><span>  <span style="color:#408080;font-style:italic"># `x` will be a workflow object</span>
</span></span><span style="display:flex;"><span>  mod <span style="color:#666">&lt;-</span> <span style="color:#00f">extract_model</span>(x)
</span></span><span style="display:flex;"><span>  <span style="color:#408080;font-style:italic"># `df` is the number of model terms for each penalty value</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">tibble</span>(penalty <span style="color:#666">=</span> mod<span style="color:#666">$</span>lambda, num_vars <span style="color:#666">=</span> mod<span style="color:#666">$</span>df)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ctrl <span style="color:#666">&lt;-</span> <span style="color:#00f">control_grid</span>(extract <span style="color:#666">=</span> glmnet_vars, verbose <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">TRUE</span>)
</span></span></code></pre></div><p>Finally, let&rsquo;s run the grid search:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>roc_scores <span style="color:#666">&lt;-</span> <span style="color:#00f">metric_set</span>(roc_auc)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00f">set.seed</span>(<span style="color:#666">1559</span>)
</span></span><span style="display:flex;"><span>five_star_glmnet <span style="color:#666">&lt;-</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#00f">tune_grid</span>(
</span></span><span style="display:flex;"><span>    lr_mod, 
</span></span><span style="display:flex;"><span>    pre_proc, 
</span></span><span style="display:flex;"><span>    resamples <span style="color:#666">=</span> folds, 
</span></span><span style="display:flex;"><span>    grid <span style="color:#666">=</span> five_star_grid, 
</span></span><span style="display:flex;"><span>    metrics <span style="color:#666">=</span> roc_scores, 
</span></span><span style="display:flex;"><span>    control <span style="color:#666">=</span> ctrl
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>five_star_glmnet
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # Tuning results</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # 10-fold cross-validation </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 10 x 5</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    splits             id     .metrics          .notes          .extracts        </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    &lt;list&gt;             &lt;chr&gt;  &lt;list&gt;            &lt;list&gt;          &lt;list&gt;           </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  1 &lt;split [3.6K/400]&gt; Fold01 &lt;tibble [300 × 7… &lt;tibble [0 × 1… &lt;tibble [300 × 5…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  2 &lt;split [3.6K/400]&gt; Fold02 &lt;tibble [300 × 7… &lt;tibble [0 × 1… &lt;tibble [300 × 5…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  3 &lt;split [3.6K/400]&gt; Fold03 &lt;tibble [300 × 7… &lt;tibble [0 × 1… &lt;tibble [300 × 5…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  4 &lt;split [3.6K/400]&gt; Fold04 &lt;tibble [300 × 7… &lt;tibble [0 × 1… &lt;tibble [300 × 5…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  5 &lt;split [3.6K/400]&gt; Fold05 &lt;tibble [300 × 7… &lt;tibble [0 × 1… &lt;tibble [300 × 5…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  6 &lt;split [3.6K/400]&gt; Fold06 &lt;tibble [300 × 7… &lt;tibble [0 × 1… &lt;tibble [300 × 5…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  7 &lt;split [3.6K/400]&gt; Fold07 &lt;tibble [300 × 7… &lt;tibble [0 × 1… &lt;tibble [300 × 5…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  8 &lt;split [3.6K/400]&gt; Fold08 &lt;tibble [300 × 7… &lt;tibble [0 × 1… &lt;tibble [300 × 5…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  9 &lt;split [3.6K/400]&gt; Fold09 &lt;tibble [300 × 7… &lt;tibble [0 × 1… &lt;tibble [300 × 5…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 10 &lt;split [3.6K/400]&gt; Fold10 &lt;tibble [300 × 7… &lt;tibble [0 × 1… &lt;tibble [300 × 5…</span>
</span></span></code></pre></div><p>This took a while to complete! What do the results look like? Let&rsquo;s get the resampling estimates of the area under the ROC curve for each tuning parameter:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>grid_roc <span style="color:#666">&lt;-</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#00f">collect_metrics</span>(five_star_glmnet) <span style="color:#666">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#00f">arrange</span>(<span style="color:#00f">desc</span>(mean))
</span></span><span style="display:flex;"><span>grid_roc
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 300 x 9</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    penalty mixture num_terms .metric .estimator  mean     n std_err .config     </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;      &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;       </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  1 0.695      0.01      4096 roc_auc binary     0.818    10 0.00739 Preprocesso…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  2 0.483      0.01      4096 roc_auc binary     0.818    10 0.00776 Preprocesso…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  3 0.0379     0.25      4096 roc_auc binary     0.816    10 0.00753 Preprocesso…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  4 0.336      0.01      4096 roc_auc binary     0.815    10 0.00822 Preprocesso…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  5 0.0183     0.5       4096 roc_auc binary     0.814    10 0.00776 Preprocesso…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  6 0.0127     0.75      4096 roc_auc binary     0.814    10 0.00781 Preprocesso…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  7 0.00886    1         4096 roc_auc binary     0.813    10 0.00794 Preprocesso…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  8 0.0264     0.25      4096 roc_auc binary     0.813    10 0.00790 Preprocesso…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  9 1          0.01      4096 roc_auc binary     0.812    10 0.00764 Preprocesso…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 10 0.234      0.01      4096 roc_auc binary     0.811    10 0.00838 Preprocesso…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # … with 290 more rows</span>
</span></span></code></pre></div><p>The best results have a fairly high penalty value and focus on the ridge penalty (i.e. no feature selection via the lasso&rsquo;s L1 penalty). The best solutions also use the largest number of hashing features.</p>
<p>What is the relationship between performance and the tuning parameters?</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#00f">autoplot</span>(five_star_glmnet, metric <span style="color:#666">=</span> <span style="color:#ba2121">&#34;roc_auc&#34;</span>)
</span></span></code></pre></div><img src="figs/grid-plot-1.svg" width="960" />
<ul>
<li>
<p>We can definitely see that performance improves with the number of features included. In this article, we&rsquo;ve used a small sample of the overall data set available. When more data are used, an even larger feature set is optimal.</p>
</li>
<li>
<p>The profiles with larger mixture values (greater than 0.01) have steep drop-offs in performance. What&rsquo;s that about? Those are cases where the lasso penalty is removing too many (and perhaps all) features from the model.</p>
</li>
<li>
<p>The panel with at least 4096 features shows that there are several parameter combinations that have about the same performance; there isn&rsquo;t much difference between the best performance for the different mixture values. A case could be made that we should choose a <em>larger</em> mixture value and a <em>smaller</em> penalty to select a simpler model that contains fewer predictors.</p>
</li>
<li>
<p>If more experimentation were conducted, a larger set of features (more than 4096) should also be considered.</p>
</li>
</ul>
<p>We&rsquo;ll come back to the extracted glmnet components at the end of this article.</p>
<h2 id="directed-search">Directed search</h2>
<p>What if we had started with Bayesian optimization? Would a good set of conditions have been found more efficiently?</p>
<p>Let&rsquo;s pretend that we haven&rsquo;t seen the grid search results. We&rsquo;ll initialize the Gaussian process model with five tuning parameter combinations chosen with a space-filling design.</p>
<p>It might be good to use a custom <code>dials</code> object for the number of hash terms. The default object, <code>num_terms()</code>, uses a linear range and tries to set the upper bound of the parameter using the data. Instead, let&rsquo;s create a parameter set, change the scale to be <code>log2</code>, and define the same range as was used in grid search.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>hash_range <span style="color:#666">&lt;-</span> <span style="color:#00f">num_terms</span>(<span style="color:#00f">c</span>(<span style="color:#666">8</span>, <span style="color:#666">12</span>), trans <span style="color:#666">=</span> <span style="color:#00f">log2_trans</span>())
</span></span><span style="display:flex;"><span>hash_range
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # Model Terms (quantitative)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; Transformer:  log-2 </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; Range (transformed scale): [8, 12]</span>
</span></span></code></pre></div><p>To use this, we have to merge the recipe and <code>parsnip</code> model object into a workflow:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>five_star_wflow <span style="color:#666">&lt;-</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">workflow</span>() <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">add_recipe</span>(pre_proc) <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">add_model</span>(lr_mod)
</span></span></code></pre></div><p>Then we can extract and manipulate the corresponding parameter set:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>five_star_set <span style="color:#666">&lt;-</span>
</span></span><span style="display:flex;"><span>  five_star_wflow <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">parameters</span>() <span style="color:#666">%&gt;%</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">update</span>(
</span></span><span style="display:flex;"><span>    num_terms <span style="color:#666">=</span> hash_range, 
</span></span><span style="display:flex;"><span>    penalty <span style="color:#666">=</span> <span style="color:#00f">penalty</span>(<span style="color:#00f">c</span>(<span style="color:#666">-3</span>, <span style="color:#666">0</span>)),
</span></span><span style="display:flex;"><span>    mixture <span style="color:#666">=</span> <span style="color:#00f">mixture</span>(<span style="color:#00f">c</span>(<span style="color:#666">0.05</span>, <span style="color:#666">1.00</span>))
</span></span><span style="display:flex;"><span>  )
</span></span></code></pre></div><p>This is passed to the search function via the <code>param_info</code> argument.</p>
<p>The initial rounds of search can be biased more towards exploration of the parameter space (as opposed to staying near the current best results). If expected improvement is used as the acquisition function, the trade-off value can be slowly moved from exploration to exploitation over iterations (see the tune vignette on <a href="https://tune.tidymodels.org/articles/acquisition_functions.html">acquisition functions</a> for more details). The tune package has a built-in function called <code>expo_decay()</code> that can help accomplish this:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>trade_off_decay <span style="color:#666">&lt;-</span> <span style="color:#00f">function</span>(iter) {
</span></span><span style="display:flex;"><span>  <span style="color:#00f">expo_decay</span>(iter, start_val <span style="color:#666">=</span> <span style="color:#666">.01</span>, limit_val <span style="color:#666">=</span> <span style="color:#666">0</span>, slope <span style="color:#666">=</span> <span style="color:#666">1</span><span style="color:#666">/</span><span style="color:#666">4</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Using these values, let&rsquo;s run the search:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#00f">set.seed</span>(<span style="color:#666">12</span>)
</span></span><span style="display:flex;"><span>five_star_search <span style="color:#666">&lt;-</span>
</span></span><span style="display:flex;"><span>  <span style="color:#00f">tune_bayes</span>(
</span></span><span style="display:flex;"><span>    five_star_wflow, 
</span></span><span style="display:flex;"><span>    resamples <span style="color:#666">=</span> folds,
</span></span><span style="display:flex;"><span>    param_info <span style="color:#666">=</span> five_star_set,
</span></span><span style="display:flex;"><span>    initial <span style="color:#666">=</span> <span style="color:#666">5</span>,
</span></span><span style="display:flex;"><span>    iter <span style="color:#666">=</span> <span style="color:#666">30</span>,
</span></span><span style="display:flex;"><span>    metrics <span style="color:#666">=</span> roc_scores,
</span></span><span style="display:flex;"><span>    objective <span style="color:#666">=</span> <span style="color:#00f">exp_improve</span>(trade_off_decay),
</span></span><span style="display:flex;"><span>    control <span style="color:#666">=</span> <span style="color:#00f">control_bayes</span>(verbose <span style="color:#666">=</span> <span style="color:#008000;font-weight:bold">TRUE</span>)
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; &gt;  Generating a set of 5 initial parameter results</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Initialization complete</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; Optimizing roc_auc using the expected improvement with variable trade-off</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; values.</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 1 ───────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.7559 (@iter 0)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.01</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.00251, mixture=0.0528, num_terms=260</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.7475 (+/-0.0102)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 2 ───────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.7559 (@iter 0)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.007788</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.00389, mixture=0.616, num_terms=489</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ♥ Newest results:	roc_auc=0.7753 (+/-0.009)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 3 ───────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.7753 (@iter 2)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.006065</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.00101, mixture=0.463, num_terms=517</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.7456 (+/-0.0107)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 4 ───────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.7753 (@iter 2)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.004724</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.00112, mixture=0.807, num_terms=4072</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.7703 (+/-0.00716)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 5 ───────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.7753 (@iter 2)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.003679</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.00343, mixture=0.523, num_terms=4038</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.7751 (+/-0.00694)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 6 ───────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.7753 (@iter 2)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.002865</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.00306, mixture=0.989, num_terms=1251</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ♥ Newest results:	roc_auc=0.7859 (+/-0.00933)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 7 ───────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.7859 (@iter 6)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.002231</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.0174, mixture=0.991, num_terms=2349</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ♥ Newest results:	roc_auc=0.7981 (+/-0.0078)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 8 ───────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.7981 (@iter 7)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.001738</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.011, mixture=0.999, num_terms=1832</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ♥ Newest results:	roc_auc=0.8022 (+/-0.00809)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 9 ───────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8022 (@iter 8)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.001353</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.00632, mixture=0.943, num_terms=2806</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ♥ Newest results:	roc_auc=0.8035 (+/-0.0047)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 10 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8035 (@iter 9)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.001054</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.00701, mixture=0.969, num_terms=3717</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.8034 (+/-0.0061)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 11 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8035 (@iter 9)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.0008208</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.00554, mixture=0.99, num_terms=3414</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.8028 (+/-0.00628)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 12 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8035 (@iter 9)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.0006393</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.0137, mixture=0.987, num_terms=3233</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ♥ Newest results:	roc_auc=0.8162 (+/-0.00823)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 13 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8162 (@iter 12)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.0004979</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.0136, mixture=0.967, num_terms=290</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.7445 (+/-0.00702)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 14 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8162 (@iter 12)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.0003877</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.0143, mixture=0.921, num_terms=4085</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.814 (+/-0.00775)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 15 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8162 (@iter 12)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.000302</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.013, mixture=0.973, num_terms=3974</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.8099 (+/-0.00471)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 16 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8162 (@iter 12)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.0002352</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.0148, mixture=0.0565, num_terms=3023</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.7757 (+/-0.00876)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 17 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8162 (@iter 12)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.0001832</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.0139, mixture=0.992, num_terms=3427</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.8021 (+/-0.00829)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 18 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8162 (@iter 12)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.0001426</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.152, mixture=0.0898, num_terms=3286</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ♥ Newest results:	roc_auc=0.8206 (+/-0.00922)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 19 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8206 (@iter 18)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 0.0001111</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.0978, mixture=0.121, num_terms=3755</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ♥ Newest results:	roc_auc=0.8206 (+/-0.00836)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 20 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8206 (@iter 19)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 8.652e-05</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.575, mixture=0.156, num_terms=366</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.5</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 21 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8206 (@iter 19)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 6.738e-05</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.0705, mixture=0.108, num_terms=2883</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ♥ Newest results:	roc_auc=0.8314 (+/-0.00731)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 22 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8314 (@iter 21)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 5.248e-05</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.00145, mixture=0.654, num_terms=2857</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.7585 (+/-0.0102)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 23 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8314 (@iter 21)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 4.087e-05</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.0633, mixture=0.26, num_terms=297</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.7461 (+/-0.00837)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 24 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8314 (@iter 21)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 3.183e-05</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.00393, mixture=0.421, num_terms=257</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.7489 (+/-0.00842)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 25 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8314 (@iter 21)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 2.479e-05</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.0129, mixture=0.16, num_terms=2730</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.7876 (+/-0.00503)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 26 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8314 (@iter 21)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 1.93e-05</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.0659, mixture=0.0836, num_terms=3179</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.8094 (+/-0.00417)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 27 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8314 (@iter 21)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 1.503e-05</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.181, mixture=0.13, num_terms=2383</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.7755 (+/-0.0098)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 28 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8314 (@iter 21)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 1.171e-05</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.257, mixture=0.622, num_terms=3937</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.5</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 29 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8314 (@iter 21)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 9.119e-06</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.0122, mixture=0.103, num_terms=744</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.7777 (+/-0.00696)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ── Iteration 30 ──────────────────────────────────────────────────────</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Current best:		roc_auc=0.8314 (@iter 21)</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Gaussian process model</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Generating 5000 candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Predicted candidates</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Trade-off value: 7.102e-06</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i penalty=0.00135, mixture=0.0737, num_terms=3215</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; i Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ✓ Estimating performance</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; ⓧ Newest results:	roc_auc=0.726 (+/-0.0066)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>five_star_search
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # Tuning results</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # 10-fold cross-validation </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 310 x 5</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    splits             id     .metrics         .notes           .iter</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    &lt;list&gt;             &lt;chr&gt;  &lt;list&gt;           &lt;list&gt;           &lt;int&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  1 &lt;split [3.6K/400]&gt; Fold01 &lt;tibble [5 × 7]&gt; &lt;tibble [0 × 1]&gt;     0</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  2 &lt;split [3.6K/400]&gt; Fold02 &lt;tibble [5 × 7]&gt; &lt;tibble [0 × 1]&gt;     0</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  3 &lt;split [3.6K/400]&gt; Fold03 &lt;tibble [5 × 7]&gt; &lt;tibble [0 × 1]&gt;     0</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  4 &lt;split [3.6K/400]&gt; Fold04 &lt;tibble [5 × 7]&gt; &lt;tibble [0 × 1]&gt;     0</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  5 &lt;split [3.6K/400]&gt; Fold05 &lt;tibble [5 × 7]&gt; &lt;tibble [0 × 1]&gt;     0</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  6 &lt;split [3.6K/400]&gt; Fold06 &lt;tibble [5 × 7]&gt; &lt;tibble [0 × 1]&gt;     0</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  7 &lt;split [3.6K/400]&gt; Fold07 &lt;tibble [5 × 7]&gt; &lt;tibble [0 × 1]&gt;     0</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  8 &lt;split [3.6K/400]&gt; Fold08 &lt;tibble [5 × 7]&gt; &lt;tibble [0 × 1]&gt;     0</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  9 &lt;split [3.6K/400]&gt; Fold09 &lt;tibble [5 × 7]&gt; &lt;tibble [0 × 1]&gt;     0</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 10 &lt;split [3.6K/400]&gt; Fold10 &lt;tibble [5 × 7]&gt; &lt;tibble [0 × 1]&gt;     0</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # … with 300 more rows</span>
</span></span></code></pre></div><p>These results show some improvement over the initial set. One issue is that so many settings are sub-optimal (as shown in the plot above for grid search) so there are poor results periodically. There are regions where the penalty parameter becomes too large and all of the predictors are removed from the model. These regions are also dependent on the number of terms. There is a fairly narrow ridge (sorry, pun intended!) where good performance can be achieved. Using more iterations would probably result in the search finding better results.
Let&rsquo;s look at a plot of model performance versus the search iterations:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#00f">autoplot</span>(five_star_search, type <span style="color:#666">=</span> <span style="color:#ba2121">&#34;performance&#34;</span>)
</span></span></code></pre></div><img src="figs/iter-plot-1.svg" width="672" />
<div class="note">What would we do if we knew about the grid search results and wanted to try directed, iterative search? We would restrict the range for the number of hash features to be larger (especially with more data). We might also restrict the penalty and mixture parameters to have a lower upper bound.</div>
<h2 id="extracted-results">Extracted results</h2>
<p>Let&rsquo;s return to the grid search results and examine the results of our <code>extract</code> function. For each <em>fitted model</em>, a tibble was saved that contains the relationship between the number of predictors and the penalty value. Let&rsquo;s look at these results for the best model:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>params <span style="color:#666">&lt;-</span> <span style="color:#00f">select_best</span>(five_star_glmnet, metric <span style="color:#666">=</span> <span style="color:#ba2121">&#34;roc_auc&#34;</span>)
</span></span><span style="display:flex;"><span>params
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 1 x 4</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;   penalty mixture num_terms .config               </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;     &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;                 </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 1   0.695    0.01      4096 Preprocessor3_Model019</span>
</span></span></code></pre></div><p>Recall that we saved the glmnet results in a tibble. The column <code>five_star_glmnet$.extracts</code> is a list of tibbles. As an example, the first element of the list is:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>five_star_glmnet<span style="color:#666">$</span>.extracts[[1]]
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 300 x 5</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    num_terms penalty mixture .extracts          .config               </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;        &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;list&gt;             &lt;chr&gt;                 </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  1       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model001</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  2       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model002</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  3       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model003</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  4       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model004</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  5       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model005</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  6       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model006</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  7       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model007</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  8       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model008</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  9       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model009</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 10       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model010</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # … with 290 more rows</span>
</span></span></code></pre></div><p>More nested tibbles! Let&rsquo;s <code>unnest()</code> the <code>five_star_glmnet$.extracts</code> column:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#00f">library</span>(tidyr)
</span></span><span style="display:flex;"><span>extracted <span style="color:#666">&lt;-</span> 
</span></span><span style="display:flex;"><span>  five_star_glmnet <span style="color:#666">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  dplyr<span style="color:#666">::</span><span style="color:#00f">select</span>(id, .extracts) <span style="color:#666">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#00f">unnest</span>(cols <span style="color:#666">=</span> .extracts)
</span></span><span style="display:flex;"><span>extracted
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 3,000 x 6</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    id     num_terms penalty mixture .extracts          .config               </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    &lt;chr&gt;      &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;list&gt;             &lt;chr&gt;                 </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  1 Fold01       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model001</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  2 Fold01       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model002</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  3 Fold01       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model003</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  4 Fold01       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model004</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  5 Fold01       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model005</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  6 Fold01       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model006</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  7 Fold01       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model007</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  8 Fold01       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model008</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  9 Fold01       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model009</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 10 Fold01       256       1    0.01 &lt;tibble [100 × 2]&gt; Preprocessor1_Model010</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # … with 2,990 more rows</span>
</span></span></code></pre></div><p>One thing to realize here is that <code>tune_grid()</code> <a href="https://tune.tidymodels.org/articles/extras/optimizations.html">may not fit all of the models</a> that are evaluated. In this case, for each value of <code>mixture</code> and <code>num_terms</code>, the model is fit over <em>all</em> penalty values (this is a feature of this particular model and is not generally true for other engines). To select the best parameter set, we can exclude the <code>penalty</code> column in <code>extracted</code>:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>extracted <span style="color:#666">&lt;-</span> 
</span></span><span style="display:flex;"><span>  extracted <span style="color:#666">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  dplyr<span style="color:#666">::</span><span style="color:#00f">select</span>(<span style="color:#666">-</span>penalty) <span style="color:#666">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#00f">inner_join</span>(params, by <span style="color:#666">=</span> <span style="color:#00f">c</span>(<span style="color:#ba2121">&#34;num_terms&#34;</span>, <span style="color:#ba2121">&#34;mixture&#34;</span>)) <span style="color:#666">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#408080;font-style:italic"># Now remove it from the final results</span>
</span></span><span style="display:flex;"><span>  dplyr<span style="color:#666">::</span><span style="color:#00f">select</span>(<span style="color:#666">-</span>penalty)
</span></span><span style="display:flex;"><span>extracted
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 200 x 6</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    id     num_terms mixture .extracts       .config.x          .config.y        </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    &lt;chr&gt;      &lt;dbl&gt;   &lt;dbl&gt; &lt;list&gt;          &lt;chr&gt;              &lt;chr&gt;            </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  1 Fold01      4096    0.01 &lt;tibble [100 ×… Preprocessor3_Mod… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  2 Fold01      4096    0.01 &lt;tibble [100 ×… Preprocessor3_Mod… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  3 Fold01      4096    0.01 &lt;tibble [100 ×… Preprocessor3_Mod… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  4 Fold01      4096    0.01 &lt;tibble [100 ×… Preprocessor3_Mod… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  5 Fold01      4096    0.01 &lt;tibble [100 ×… Preprocessor3_Mod… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  6 Fold01      4096    0.01 &lt;tibble [100 ×… Preprocessor3_Mod… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  7 Fold01      4096    0.01 &lt;tibble [100 ×… Preprocessor3_Mod… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  8 Fold01      4096    0.01 &lt;tibble [100 ×… Preprocessor3_Mod… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  9 Fold01      4096    0.01 &lt;tibble [100 ×… Preprocessor3_Mod… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 10 Fold01      4096    0.01 &lt;tibble [100 ×… Preprocessor3_Mod… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # … with 190 more rows</span>
</span></span></code></pre></div><p>Now we can get at the results that we want using another <code>unnest()</code>:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>extracted <span style="color:#666">&lt;-</span> 
</span></span><span style="display:flex;"><span>  extracted <span style="color:#666">%&gt;%</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#00f">unnest</span>(col <span style="color:#666">=</span> .extracts) <span style="color:#408080;font-style:italic"># &lt;- these contain a `penalty` column</span>
</span></span><span style="display:flex;"><span>extracted
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # A tibble: 20,000 x 7</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    id     num_terms mixture penalty num_vars .config.x         .config.y        </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;    &lt;chr&gt;      &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;int&gt; &lt;chr&gt;             &lt;chr&gt;            </span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  1 Fold01      4096    0.01    9.01        0 Preprocessor3_Mo… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  2 Fold01      4096    0.01    8.60        1 Preprocessor3_Mo… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  3 Fold01      4096    0.01    8.21        2 Preprocessor3_Mo… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  4 Fold01      4096    0.01    7.84        2 Preprocessor3_Mo… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  5 Fold01      4096    0.01    7.48        3 Preprocessor3_Mo… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  6 Fold01      4096    0.01    7.14        3 Preprocessor3_Mo… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  7 Fold01      4096    0.01    6.82        4 Preprocessor3_Mo… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  8 Fold01      4096    0.01    6.51        6 Preprocessor3_Mo… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt;  9 Fold01      4096    0.01    6.21        7 Preprocessor3_Mo… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; 10 Fold01      4096    0.01    5.93        7 Preprocessor3_Mo… Preprocessor3_Mo…</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#&gt; # … with 19,990 more rows</span>
</span></span></code></pre></div><p>Let&rsquo;s look at a plot of these results (per resample):</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#00f">ggplot</span>(extracted, <span style="color:#00f">aes</span>(x <span style="color:#666">=</span> penalty, y <span style="color:#666">=</span> num_vars)) <span style="color:#666">+</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#00f">geom_line</span>(<span style="color:#00f">aes</span>(group <span style="color:#666">=</span> id, col <span style="color:#666">=</span> id), alpha <span style="color:#666">=</span> <span style="color:#666">.5</span>) <span style="color:#666">+</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#00f">ylab</span>(<span style="color:#ba2121">&#34;Number of retained predictors&#34;</span>) <span style="color:#666">+</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#00f">scale_x_log10</span>()  <span style="color:#666">+</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#00f">ggtitle</span>(<span style="color:#00f">paste</span>(<span style="color:#ba2121">&#34;mixture = &#34;</span>, params<span style="color:#666">$</span>mixture, <span style="color:#ba2121">&#34;and&#34;</span>, params<span style="color:#666">$</span>num_terms, <span style="color:#ba2121">&#34;features&#34;</span>)) <span style="color:#666">+</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#00f">theme</span>(legend.position <span style="color:#666">=</span> <span style="color:#ba2121">&#34;none&#34;</span>)
</span></span></code></pre></div><img src="figs/var-plot-1.svg" width="672" />
<p>These results might help guide the choice of the <code>penalty</code> range if more optimization was conducted.</p>
<h2 id="session-information">Session information</h2>
<pre tabindex="0"><code>#&gt; ─ Session info ───────────────────────────────────────────────────────────────
#&gt;  setting  value                       
#&gt;  version  R version 4.0.3 (2020-10-10)
#&gt;  os       macOS Mojave 10.14.6        
#&gt;  system   x86_64, darwin17.0          
#&gt;  ui       X11                         
#&gt;  language (EN)                        
#&gt;  collate  en_US.UTF-8                 
#&gt;  ctype    en_US.UTF-8                 
#&gt;  tz       America/Denver              
#&gt;  date     2020-12-07                  
#&gt; 
#&gt; ─ Packages ───────────────────────────────────────────────────────────────────
#&gt;  package      * version date       lib source        
#&gt;  broom        * 0.7.2   2020-10-20 [1] CRAN (R 4.0.2)
#&gt;  dials        * 0.0.9   2020-09-16 [1] CRAN (R 4.0.2)
#&gt;  dplyr        * 1.0.2   2020-08-18 [1] CRAN (R 4.0.2)
#&gt;  ggplot2      * 3.3.2   2020-06-19 [1] CRAN (R 4.0.0)
#&gt;  infer        * 0.5.3   2020-07-14 [1] CRAN (R 4.0.0)
#&gt;  parsnip      * 0.1.4   2020-10-27 [1] CRAN (R 4.0.2)
#&gt;  purrr        * 0.3.4   2020-04-17 [1] CRAN (R 4.0.0)
#&gt;  recipes      * 0.1.15  2020-11-11 [1] CRAN (R 4.0.2)
#&gt;  rlang        * 0.4.9   2020-11-26 [1] CRAN (R 4.0.2)
#&gt;  rsample      * 0.0.8   2020-09-23 [1] CRAN (R 4.0.2)
#&gt;  stopwords    * 2.0     2020-04-14 [1] CRAN (R 4.0.0)
#&gt;  textfeatures * 0.3.3   2019-09-03 [1] CRAN (R 4.0.2)
#&gt;  textrecipes  * 0.4.0   2020-11-12 [1] CRAN (R 4.0.2)
#&gt;  tibble       * 3.0.4   2020-10-12 [1] CRAN (R 4.0.2)
#&gt;  tidymodels   * 0.1.2   2020-11-22 [1] CRAN (R 4.0.2)
#&gt;  tune         * 0.1.2   2020-11-17 [1] CRAN (R 4.0.3)
#&gt;  workflows    * 0.2.1   2020-10-08 [1] CRAN (R 4.0.2)
#&gt;  yardstick    * 0.0.7   2020-07-13 [1] CRAN (R 4.0.2)
#&gt; 
#&gt; [1] /Library/Frameworks/R.framework/Versions/4.0/Resources/library
</code></pre>
      </div>


      <div class="article-footer">
      
      <div style="float:left">
      
        <div class='itemTitle' align="left" style='font-size:.8em; line-height:2em'>Previous</div>
        <a href="/learn/work/bayes-opt/">Iterative Bayesian optimization of a classification model</a>
      
      </div>
      
      
      <div style="float:right">
      
      <div class='itemTitle' align="right" style='font-size:.8em; line-height:2em'>Next</div>
        <a href="/learn/work/case-weights/">Creating case weights based on time</a>
      
      </div>
     </div> 

      </div>

      <div class="column25">
        <div class="section hideOnMobile">
          <div class="sectionTitle">Contents</div>
          <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#text-as-data">Text as data</a></li>
    <li><a href="#inputs-for-the-search">Inputs for the search</a></li>
    <li><a href="#resampling">Resampling</a></li>
    <li><a href="#grid-search">Grid search</a></li>
    <li><a href="#directed-search">Directed search</a></li>
    <li><a href="#extracted-results">Extracted results</a></li>
    <li><a href="#session-information">Session information</a></li>
  </ul>
</nav>
        </div>
      
        <div class="section">
          <div class="sectionTitle">Resources</div>
          




<div class="event">
  
  <div class="eventTitle">
    <a href="/find/"><i class="fas fa-search fa-xs"></i>&nbsp;&nbsp;Find</a>
  </div>
  <div class="eventDetails">Explore searchable tables of all tidymodels packages and functions.</div>
</div>






<div class="event">
  
  <div class="eventTitle">
    <a href="/books/"><i class="fas fa-book-open fa-xs"></i>&nbsp;&nbsp;Books</a>
  </div>
  <div class="eventDetails">Study up on statistics and modeling with our comprehensive books.</div>
</div>






<div class="event">
  
  <div class="eventTitle">
    <a href="https://www.tidyverse.org/tags/tidymodels/" target="_blank"><i class="fas fa-bullhorn fa-xs"></i>&nbsp;&nbsp;News</a>
  </div>
  <div class="eventDetails">Hear the latest about tidymodels packages at the <a href="https://www.tidyverse.org/tags/tidymodels/">tidyverse blog</a>.</div>
</div>



        </div>
      </div>
      


    </div>
  </div>  
</div> 


        <div id="rStudioFooter" class="band">
          <div class="bandContent">
            <div id="copyright">
              
              
              Proudly supported by <a class="rstudioLogo" href="https://www.rstudio.com/"></a>
              
            </div>
            <div id="logos">
              
              
            </div>
            
            <span class="float-right" aria-hidden="true">
              <a href="#" class="back-to-top">
                <span class="button_icon">
                  <i class="fas fa-chevron-up fa-2x"></i>
                </span>
              </a>
            </span>
            
          </div>
        </div>

      </div>  
    </div>  

    

    
<script src="/js/math-code.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script>
<script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-20375833-29', 'auto');
	
	ga('send', 'pageview');
}
</script>

  </body>
</html>

</body>
</html>
